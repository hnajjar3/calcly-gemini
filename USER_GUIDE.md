# Calcly IDE User Guide

Welcome to the Calcly IDE! This guide will walk you through the key features of the application and help you get started with solving your math problems.

## 1. The Workbench

The Workbench is the main interface of the Calcly IDE. It consists of four key components:

### 1.1 Code Editor
-   **Description**: The Code Editor is a full-featured Monaco-based editor (the same engine that powers VS Code). It supports syntax highlighting, auto-completion, and error checking for JavaScript.
-   **Usage**: Write your scripts in the editor. You can use the AI Copilot to generate code, or you can write it manually. Once you're ready, click the "Run" button to execute your code.

### 1.2 Command Window
-   **Description**: The Command Window is a REPL (Read-Eval-Print-Loop) that allows you to execute single lines of code and get immediate feedback.
-   **Usage**: Type a command at the prompt (`>>`) and press Enter. The result of the command will be displayed in the window.

### 1.3 Workspace Viewer
-   **Description**: The Workspace Viewer displays all the variables that are currently active in your session. This includes scalars, arrays, and objects.
-   **Usage**: As you execute code, the Workspace Viewer will automatically update to show the current state of your variables. This is a great way to debug your code and understand how it's working.

### 1.4 Plot Viewer
-   **Description**: The Plot Viewer is a dedicated tab for displaying interactive charts and graphs generated by your code. It's powered by Plotly.js.
-   **Usage**: When your code generates a plot, it will automatically be displayed in the Plot Viewer. You can interact with the plot by zooming, panning, and hovering over data points.

## 2. Equation Lab

The Equation Lab is a powerful tool for working with symbolic math. It allows you to write equations using a visual LaTeX editor and then compile them into executable JavaScript code.

-   **Visual Math**: The Equation Lab uses MathLive to provide a rich, visual editor for writing equations.
-   **Native Compilation**: When you're done writing your equation, the Equation Lab uses the CortexJS Compute Engine to compile it into a native JavaScript function.
-   **One-Click Insert**: You can then insert the compiled code directly into your script with a single click.

## 3. AI Copilot

The AI Copilot is your personal assistant for solving math problems. It can help you with a variety of tasks, including:

-   **Natural Language Coding**: Ask the AI to "Generate a 3D surface plot of a damped sine wave" and it will write the code for you.
-   **Code Review**: The AI can review your code for bugs and suggest optimizations.
-   **Scientific Publishing**: The AI can generate professional markdown reports from your code and results.

## 4. Hybrid Math Engine

The Calcly IDE uses a hybrid math engine that combines the power of fast numerical JavaScript and industrial-strength Python symbolic libraries.

-   **Numerical**: The numerical engine is powered by `math.js` for fast client-side calculations.
-   **Symbolic (Python)**: The symbolic engine is powered by **SymPy**, running inside the browser via Pyodide. This is exposed via the `pycalcly` object.
-   **Auto Mode**: The AI intelligently routes tasks to the best engine for the job.

### Using PyCalcly (SymPy)

You can access the full power of SymPy directly from your code using the `pycalcly` global object. Since it runs in a separate thread, all calls are asynchronous (use `await`).

**Basic Usage:**
```javascript
// Solve an equation: x^2 - 1 = 0
const res = await pycalcly.sympy.compute({
    expr: "x^2 - 1",
    task: "solve",
    solve_for: "x"
});
print(res.result_str); // Output: [{x: -1}, {x: 1}]
```

**Calculus:**
```javascript
// Integrate sin(x) from 0 to pi
const res = await pycalcly.sympy.compute({
    expr: "sin(x)",
    task: "integrate",
    args: ["x", 0, "pi"] // args map to SymPy function arguments
});
print(res.result_str); // Output: 2
```

**Available Tasks:**
Common tasks include `solve`, `diff` (differentiate), `integrate`, `limit`, `simplify`, `expand`, `factor`, `laplace_transform`, and more.
